{% extends "base.html.twig" %}

{% block content %}
<div class="signup-form">
    <div class="header">
        <h2>Ticketed</h2>
    </div>
    <div class="form-header">
        <h2>Sign Up</h2>
        <p>Create your account by filling in the information below.</p>
    </div>
   
    
    <form id="form-signup" method="POST" action="/signup">
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required /><br /><br />
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required /><br /><br />
        </div>
        <button type="submit">Sign Up</button>
    </form>
     {% if error %}
      <p class="error-message">{{ error }}</p>
    {% endif %}
    
    {# Display success message #}
    {% if success %}
      <p class="success-message">{{ success }}</p>
    {% endif %}
    
    <p class="form-footer">Already have an account? <a href="/login">Log in</a></p>
</div>

<script>
  
    {% if success %}
    setTimeout(function() {
        var msg = document.querySelector('.success-message');
        if (msg) {
            msg.classList.add('fade-out');
            setTimeout(function() {
                window.location.href = '/login';
            }, 500);
        }
    }, 2000);
    {% endif %}
    

    {% if error %}
      setTimeout(function() {
        document.querySelector('.error-message').style.display = 'none';
      }, 3000);
    {% endif %}
</script>
{% endblock %}